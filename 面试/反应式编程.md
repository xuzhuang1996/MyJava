[参考1](https://potoyang.gitbook.io/spring-in-action-v5/di-10-zhang-reactor-jie-shao/10.1-li-jie-xiang-ying-shi-bian-cheng/10.1.1-ding-yi-xiang-ying-shi-liu)

[参考2](https://developer.ibm.com/zh/articles/defining-the-term-reactive/)

## 概念
## 反应式编程定义

1. 反应式编程是一种范式，在这种范式中，发布声明式代码来构造异步处理流水线。使用异步数据流进行编程，在数据可用时将其发送给使用者，这使开发人员能够编写可以快速、异步响应这些状态变化的代码。（没看懂，就是异步获取数据吧，类似于NIO）
2. 流，是按时间顺序排列的一系列进行中的事件（状态变化）。流可以发出三种不同的对象：
   1. 值（某种类型）
   2. 错误
   3. “已完成”信号。

3. 订阅，对流的侦听被称为“订阅”。我们定义的功能是观测者。流是正在观测的主题（也称为“可观测项”）。
4. 使用位置：通过定义下面三种函数，以异步方式捕获这些事件。
   1. 正要发出值时执行的函数。
   2. 发出错误时执行的函数
   3. 发出“已完成”信号时执行的函数
5. 范围：可以为任何对象创建数据流，包括变量、用户输入、属性、缓存、数据结构等。然后可以观测到这些流，并可以采取相应的操作。
6. 实现方式：**Observables**、发布订阅、反应式流等。

## 反应式流的接口规范

1. Publisher。流事件？

2. Subscriber。流观测者。（看图理解）Subscriber 通过 `Publisher.subscribe()` 方法订阅 Publisher。然后，Publisher 调用 `Subscriber.onSubscribe` 以传递 Subscription，以便 Subscriber 调用 `subscription.request()`，用于处理背压或 `subscription.cancel()`

   ![Subscriber 和 Publisher 接口](https://developer.ibm.com/developer/default/articles/defining-the-term-reactive/images/image02.png)

3. Subscription。作用应该是传递容量。如果 Subscriber 当前只能处理 4 个项目，则将通过 `Subscription.request(4)` 传递其容量。除非后来Subscriber能够请求更多的项目，否则 Publisher 不会发送 4 个以上的项目。发布一个项目时，Publisher 会调用 `onNext()`；如果不发布任何项目，则调用 `onComplete()`。

   ![Subscription 接口](https://developer.ibm.com/developer/default/articles/defining-the-term-reactive/images/image03.png)

4. Processor。中介。它订阅 Publisher，然后 Subscriber 订阅 Processor。

   ![Subscription 接口](https://developer.ibm.com/developer/default/articles/defining-the-term-reactive/images/image03.png)

### Reactor基本概念

#### Flux

1. Flux 表示的是包含 0 到 N 个元素的异步序列。

#### Mono

1. 

### 使用

1. 注意maven的setting.xml配置文件需要加入阿里云等镜像。

   ```xml
   <!--阿里云的镜像-->
   <mirror>
       <id>alimaven</id>
       <mirrorOf>central</mirrorOf>
       <name>aliyun maven</name>
       <url>http://maven.aliyun.com/nexus/content/groups/public/</url>
   </mirror>
   ```

2. maven的pom.xml文件需要加入依赖

   ```xml
   <dependency>
       <groupId>io.projectreactor</groupId>
       <artifactId>reactor-core</artifactId>
   </dependency>
   ```

3. 